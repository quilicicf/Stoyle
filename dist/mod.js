var U=0,i=(t=>(t[t.FG_Black=30]="FG_Black",t[t.FG_Red=31]="FG_Red",t[t.FG_Green=32]="FG_Green",t[t.FG_Yellow=33]="FG_Yellow",t[t.FG_Blue=34]="FG_Blue",t[t.FG_Magenta=35]="FG_Magenta",t[t.FG_Cyan=36]="FG_Cyan",t[t.FG_White=37]="FG_White",t[t.FG_Bright_Black=90]="FG_Bright_Black",t[t.FG_Bright_Red=91]="FG_Bright_Red",t[t.FG_Bright_Green=92]="FG_Bright_Green",t[t.FG_Bright_Yellow=93]="FG_Bright_Yellow",t[t.FG_Bright_Blue=94]="FG_Bright_Blue",t[t.FG_Bright_Magenta=95]="FG_Bright_Magenta",t[t.FG_Bright_Cyan=96]="FG_Bright_Cyan",t[t.FG_Bright_White=97]="FG_Bright_White",t))(i||{}),A=(t=>(t[t.BG_Black=40]="BG_Black",t[t.BG_Red=41]="BG_Red",t[t.BG_Green=42]="BG_Green",t[t.BG_Yellow=43]="BG_Yellow",t[t.BG_Blue=44]="BG_Blue",t[t.BG_Magenta=45]="BG_Magenta",t[t.BG_Cyan=46]="BG_Cyan",t[t.BG_White=47]="BG_White",t[t.BG_Bright_Black=100]="BG_Bright_Black",t[t.BG_Bright_Red=101]="BG_Bright_Red",t[t.BG_Bright_Green=102]="BG_Bright_Green",t[t.BG_Bright_Yellow=103]="BG_Bright_Yellow",t[t.BG_Bright_Blue=104]="BG_Bright_Blue",t[t.BG_Bright_Magenta=105]="BG_Bright_Magenta",t[t.BG_Bright_Cyan=106]="BG_Bright_Cyan",t[t.BG_Bright_White=107]="BG_Bright_White",t))(A||{}),B=(n=>(n[n.Bold=1]="Bold",n[n.Dim=2]="Dim",n[n.Italic=3]="Italic",n[n.Underline=4]="Underline",n[n.Blink_Slow=5]="Blink_Slow",n[n.Blink_Fast=6]="Blink_Fast",n[n.Reverse_Video=7]="Reverse_Video",n[n.Conceal=8]="Conceal",n[n.Crossed_Out=9]="Crossed_Out",n[n.Primary=10]="Primary",n[n.Alternative_Font_1=11]="Alternative_Font_1",n[n.Alternative_Font_2=12]="Alternative_Font_2",n[n.Alternative_Font_3=13]="Alternative_Font_3",n[n.Alternative_Font_4=14]="Alternative_Font_4",n[n.Alternative_Font_5=15]="Alternative_Font_5",n[n.Alternative_Font_6=16]="Alternative_Font_6",n[n.Alternative_Font_7=17]="Alternative_Font_7",n[n.Alternative_Font_8=18]="Alternative_Font_8",n[n.Alternative_Font_9=19]="Alternative_Font_9",n[n.Fraktur=20]="Fraktur",n[n.Double_Underline=21]="Double_Underline",n[n.Normal=22]="Normal",n[n.Italic_And_Fraktur_Off=23]="Italic_And_Fraktur_Off",n[n.Underline_Off=24]="Underline_Off",n[n.Blink_Off=25]="Blink_Off",n[n.Proportional_Spacing=26]="Proportional_Spacing",n[n.Reverse_And_Invert_Off=27]="Reverse_And_Invert_Off",n[n.Reveal_And_Conceal_Off=28]="Reveal_And_Conceal_Off",n[n.Crossed_Off=29]="Crossed_Off",n))(B||{});function c(r){if(r<0||r>255)throw Error(`RGB codes should be between 0 & 255, got: ${r}`);return r}var a=class{red;green;blue;constructor(s,l,_){this.red=c(s),this.green=c(l),this.blue=c(_)}},x=class extends a{toString(){return`38;2;${this.red};${this.green};${this.blue}`}},E=class extends a{toString(){return`48;2;${this.red};${this.green};${this.blue}`}};function v({color:r,backgroundColor:s,decoration:l},_=!1){let e=[..._?[0]:[],r,s,l].filter(u=>typeof u=="number"||typeof u=="object");return e.length===0?"":`\x1B[${e.join(";")}m`}var O=(l=>(l[l.STYLE=0]="STYLE",l[l.NO_STYLE=1]="NO_STYLE",l))(O||{});function T(r,s){return r.color===s.color&&r.backgroundColor===s.backgroundColor&&r.decoration===s.decoration}function w(r,s,l){if(!l||T(l,s))return{string:r,shouldResetFirst:!1,style:void 0};let _=!!s.color&&!l.color,e=!!s.backgroundColor&&!l.backgroundColor,u=!!s.decoration&&l.decoration!==s.decoration,y=_||e||u;return{string:r,shouldResetFirst:y,style:{color:y||l.color!==s.color?l.color:void 0,backgroundColor:y||l.backgroundColor!==s.backgroundColor?l.backgroundColor:void 0,decoration:y||l.decoration!==s.decoration?l.decoration:void 0}}}function R(r,s,l){return s||(l||!r?void 0:r)}function $(r){return r.style?v(r.style,r.shouldResetFirst):""}function F(r,s,l){let _=r%2===0,e=~~(r/2);return String(_?s[e]:l[e])}function Y(r,s){let l=r%2===0,_=~~(r/2);return l?s?.edges?.[_]:s?.nodes?.[_]}function I(r,s,l=0){return l===1?r:v(s)+r+v({},!0)}function P(r,...s){let l=[...r];return(_,e=0)=>{let u=new Array(l.length+s.length).fill(null).map((y,b)=>F(b,l,s)).join("");return I(u,_,e)}}function q(r,...s){let l=[...r];return(_,e=0)=>{if(_.edges&&l.length!==_.edges?.length)throw Error(`I found ${l.length} edge(s), but ${_.edges?.length} edge style(s)!`);if(_.nodes&&s.length!==_.nodes?.length)throw Error(`I found ${s.length} node(s), but ${_.nodes?.length} node style(s)!`);let u=_?.global??{},y=new Array(l.length+s.length).fill(null).reduce((h,j,M)=>{let G=F(M,l,s);if(!G)return h;let t=Y(M,_)??u,f=e===1?{string:G,shouldResetFirst:!1,style:{}}:w(G,h.currentStyle,t);return h.fragments.push(f),h.currentStyle={color:R(h.currentStyle.color,f?.style?.color,f.shouldResetFirst),backgroundColor:R(h.currentStyle.backgroundColor,f?.style?.backgroundColor,f.shouldResetFirst),decoration:R(h.currentStyle.decoration,f?.style?.decoration,f.shouldResetFirst)},h},{currentStyle:{},fragments:[]}),{fragments:b,currentStyle:g}=y;return(!!g.color||!!g.backgroundColor||!!g.decoration?b.concat({string:"",shouldResetFirst:!0,style:{}}):b).map(h=>$(h)+h.string).join("")}}export{E as BackgroundRgbCode,A as BackgroundSimpleCode,B as DecorationCode,x as ForegroundRgbCode,i as ForegroundSimpleCode,U as RESET_CODE,a as RgbCode,O as StyleMode,q as stoyle,P as stoyleGlobal,I as stoyleString,v as styleToAnsiCode};
